<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lummerland Downloads - Brawl Launch Channel</title>
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CJRCFBT5WH"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-CJRCFBT5WH', {
      // Bot-Traffic filtern
      'allow_google_signals': false,
      'allow_ad_personalization_signals': false
    });
  </script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
      color: #fff;
      padding: 2rem;
      overflow-x: hidden;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
    }

    .header {
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
    }

    h1 {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-shadow: 0 4px 20px rgba(0,0,0,0.3);
      background: linear-gradient(45deg, #fff, #f0f8ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { filter: drop-shadow(0 0 20px rgba(255,255,255,0.5)); }
      to { filter: drop-shadow(0 0 30px rgba(255,255,255,0.8)); }
    }

    .subtitle {
      font-size: 1.3rem;
      opacity: 0.9;
      margin-bottom: 2rem;
      color: #ccc;
    }

    /* Social Media Styles */
    .social-section {
      text-align: center;
      margin-bottom: 3rem;
    }

    .social-title {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: #fff;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .social-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .social-link:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 30px rgba(0,0,0,0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .social-link img {
      width: 40px;
      height: 40px;
      object-fit: contain;
      filter: brightness(1.2);
      transition: all 0.3s ease;
    }

    .social-link:hover img {
      transform: scale(1.1);
      filter: brightness(1.4);
    }

    .downloads-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2.5rem;
      margin-bottom: 6rem;
    }

    .download-card {
      background: rgba(30, 30, 47, 0.9);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      padding: 2.5rem;
      text-align: center;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    }

    .download-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.6s;
    }

    .download-card:hover::before {
      left: 100%;
    }

    .download-card:hover {
      transform: translateY(-15px) scale(1.03);
      box-shadow: 0 25px 50px rgba(0,0,0,0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .file-icon {
      width: 90px;
      height: 90px;
      margin: 0 auto 2rem;
      background: linear-gradient(45deg, #ff6b6b, #feca57);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      position: relative;
      animation: float 3s ease-in-out infinite;
    }

    .file-icon.zip {
      background: linear-gradient(45deg, #4ecdc4, #44a08d);
    }

    .file-icon.modpack {
      background: linear-gradient(45deg, #a8edea, #fed6e3);
    }

    .file-icon.nbt {
      background: linear-gradient(45deg, #ffecd2, #fcb69f);
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .file-name {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: #fff;
    }

    .file-description {
      font-size: 1rem;
      opacity: 0.85;
      margin-bottom: 2.5rem;
      line-height: 1.6;
      color: #e0e0e0;
    }

    .download-button {
      display: inline-flex;
      align-items: center;
      gap: 0.8rem;
      padding: 1.2rem 2.5rem;
      background: linear-gradient(45deg, #4caf50, #43a047);
      color: white;
      text-decoration: none;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1.1rem;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
    }

    .download-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, #43a047, #4caf50);
      z-index: -1;
      transition: opacity 0.3s ease;
      opacity: 0;
    }

    .download-button:hover::before {
      opacity: 1;
    }

    .download-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.3);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .download-icon {
      font-size: 1.3rem;
    }

    /* Screenshot Gallery Styles */
    #screenshot-gallery {
      margin: 6rem 0;
    }

    .gallery-container {
      position: relative;
      max-width: 900px;
      margin: 0 auto;
      background: rgba(30, 30, 47, 0.9);
      backdrop-filter: blur(20px);
      border-radius: 25px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .slide {
      display: none;
      position: relative;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      cursor: pointer;
    }

    .slide.active {
      display: block;
      opacity: 1;
    }

    .slide img {
      width: 100%;
      height: 500px;
      object-fit: cover;
      object-position: center;
      display: block;
      transition: transform 0.3s ease;
    }

    .slide:hover img {
      transform: scale(1.02);
    }

    .slide figcaption {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.85));
      padding: 4rem 3rem 2.5rem;
      color: white;
    }

    .slide figcaption h3 {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 1.2rem;
      text-shadow: 0 2px 8px rgba(0,0,0,0.7);
      color: #ffffff;
    }

    .slide figcaption p {
      font-size: 1.2rem;
      opacity: 0.95;
      line-height: 1.6;
      text-shadow: 0 1px 4px rgba(0,0,0,0.7);
      color: #f0f0f0;
    }

    .prev, .next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      color: white;
      border: none;
      padding: 1rem;
      cursor: pointer;
      font-size: 1.5rem;
      transition: all 0.3s ease;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .prev {
      left: 20px;
    }

    .next {
      right: 20px;
    }

    .prev:hover, .next:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(10px);
    }

    .modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      position: relative;
      max-width: 95%;
      max-height: 95%;
      animation: zoomIn 0.3s ease-in-out;
    }

    @keyframes zoomIn {
      from { transform: scale(0.7); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .modal-image {
      width: 100%;
      height: auto;
      max-height: 90vh;
      object-fit: contain;
      border-radius: 15px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.8);
    }

    .modal-close {
      position: absolute;
      top: -50px;
      right: 0;
      color: white;
      font-size: 3rem;
      font-weight: bold;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .modal-close:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .modal-caption {
      position: absolute;
      bottom: -80px;
      left: 0;
      right: 0;
      text-align: center;
      color: white;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      padding: 1.5rem;
      border-radius: 15px;
    }

    .modal-caption h3 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }

    .modal-caption p {
      font-size: 1rem;
      opacity: 0.9;
    }

    .stats-bar {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 2rem;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.2);
      margin-top: 4rem;
    }

    .stats-text {
      font-size: 1.2rem;
      color: #fff;
      font-weight: 500;
    }

    /* Particles Animation */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: particleFloat 6s infinite linear;
    }

    @keyframes particleFloat {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-10vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Gallery Indicators */
    .gallery-indicators {
      display: flex;
      justify-content: center;
      gap: 0.8rem;
      margin-top: 2rem;
    }

    .indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .indicator.active {
      background: rgba(255, 255, 255, 0.8);
      transform: scale(1.2);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }
      
      h1 {
        font-size: 2.5rem;
      }
      
      .subtitle {
        font-size: 1.1rem;
      }

      .social-links {
        gap: 1.2rem;
      }

      .social-link {
        width: 60px;
        height: 60px;
      }

      .social-link img {
        width: 35px;
        height: 35px;
      }
      
      .downloads-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
        margin-bottom: 4rem;
      }
      
      .download-card {
        padding: 2rem 1.5rem;
      }
      
      .file-icon {
        width: 70px;
        height: 70px;
        font-size: 2rem;
      }
      
      .slide img {
        height: 300px;
      }
      
      .slide figcaption {
        padding: 2.5rem 2rem 1.5rem;
      }
      
      .slide figcaption h3 {
        font-size: 1.6rem;
        margin-bottom: 1rem;
      }
      
      .slide figcaption p {
        font-size: 1rem;
        line-height: 1.5;
      }
      
      .prev, .next {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }
      
      .prev {
        left: 10px;
      }
      
      .next {
        right: 10px;
      }

      .modal-close {
        top: -40px;
        font-size: 2rem;
        width: 40px;
        height: 40px;
      }

      .modal-caption {
        bottom: -60px;
        padding: 1rem;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 0 0.5rem;
      }
      
      h1 {
        font-size: 2rem;
      }

      .social-links {
        gap: 1rem;
      }

      .social-link {
        width: 50px;
        height: 50px;
      }

      .social-link img {
        width: 30px;
        height: 30px;
      }
      
      .downloads-grid {
        gap: 1.5rem;
      }
      
      .download-card {
        padding: 1.5rem;
      }
      
      .slide img {
        height: 250px;
      }
    }
  </style>
</head>
<body>
  <div class="particles" id="particles"></div>
  
  <div class="container">
    <header class="header">
      <h1>Lummerland Downloads</h1>
      <p class="subtitle">Brawl Launch Channel ‚Äì Lade dir die neuesten Inhalte herunter</p>
    </header>

    <!-- Social Media Section -->
    <section class="social-section">
      <h2 class="social-title">Folge mir auf Social Media! üöÄ</h2>
      <div class="social-links">
        <a href="https://www.youtube.com/channel/UClVec0Kgx-NwOlKMKZkEBRw?sub_confirmation=1" target="_blank" class="social-link" title="YouTube" onclick="trackSocial('YouTube')">
          <img src="icons8-youtube-48.png" alt="YouTube">
        </a>
        <a href="https://www.tiktok.com/@brawl.launch.chan?_t=8secxyswtaj&_r=1" target="_blank" class="social-link" title="TikTok" onclick="trackSocial('TikTok')">
          <img src="icons8-tiktok-50.png" alt="TikTok">
        </a>
        <a href="https://www.instagram.com/brawllaunchchannel/" target="_blank" class="social-link" title="Instagram" onclick="trackSocial('Instagram')">
          <img src="icons8-instagram-64.png" alt="Instagram">
        </a>
        <a href="https://www.twitch.tv/brawllaunchchannel" target="_blank" class="social-link" title="Twitch" onclick="trackSocial('Twitch')">
          <img src="icons8-twitch-64.png" alt="Twitch">
        </a>
        <a href="https://discord.gg/qRQPWBdt7n" target="_blank" class="social-link" title="Discord" onclick="trackSocial('Discord')">
          <img src="icons8-discord-logo-48.png" alt="Discord">
        </a>
      </div>
    </section>
    
    <div class="downloads-grid">
      <div class="download-card">
        <div class="file-icon zip">üó∫Ô∏è</div>
        <h3 class="file-name">Lummerland Map</h3>
        <p class="file-description">Die komplette Minecraft-Karte von Lummerland zum Erkunden</p>
        <a href="Lummerland Map Release v.1.zip" class="download-button" id="btn-map" download onclick="trackDownload('Lummerland_Map', 'v.1.zip')">
          <span class="download-icon">‚¨áÔ∏è</span> Download v.1.zip
        </a>
      </div>
      <div class="download-card">
        <div class="file-icon modpack">üì¶</div>
        <h3 class="file-name">Lummerland Modpack</h3>
        <p class="file-description">Alle ben√∂tigten Mods f√ºr das perfekte Lummerland-Erlebnis ‚Äì optimiert f√ºr maximalen Spielspa√ü!</p>
        <a href="Lummerland Modpack 1.0.0.mrpack" class="download-button" id="btn-modpack" download onclick="trackDownload('Lummerland_Modpack', '1.0.0.mrpack')">
          <span class="download-icon">‚¨áÔ∏è</span> Download 1.0.0.mrpack
        </a>
      </div>
      <div class="download-card">
        <div class="file-icon nbt">üöÇ</div>
        <h3 class="file-name">Emma Lummerland</h3>
        <p class="file-description">Die ber√ºhmte Lokomotive Emma als NBT-Datei ‚Äì bereit f√ºr deine eigenen Projekte!</p>
        <a href="emma_lummerland.nbt" class="download-button" id="btn-emma" download onclick="trackDownload('Emma_Lummerland', '.nbt')">
          <span class="download-icon">‚¨áÔ∏è</span> Download .nbt
        </a>
      </div>
    </div>
    
    <!-- Screenshot-Galerie -->
    <section id="screenshot-gallery" aria-label="Screenshot-Galerie Lummerland">
      <div class="gallery-container">
        <button class="prev" aria-label="Vorheriges Bild">&#10094;</button>
        <button class="next" aria-label="N√§chstes Bild">&#10095;</button>
        <figure class="slide active" onclick="openModal(0)">
          <img src="schloss.png" alt="Schloss von K√∂nig Alfons">
          <figcaption>
            <h3>Schloss von K√∂nig Alfons</h3>
            <p>Das majest√§tische Schloss zwischen den beiden Bergspitzen ‚Äì die prachtvolle Residenz des K√∂nigs auf der kleinen Insel Lummerland.</p>
          </figcaption>
        </figure>
        <figure class="slide" onclick="openModal(1)">
          <img src="emma.png" alt="Lokomotive Emma">
          <figcaption>
            <h3>Lokomotive Emma</h3>
            <p>Lukas' treue Dampflok Emma ‚Äì bereit f√ºr jedes Abenteuer!</p>
          </figcaption>
        </figure>
        <figure class="slide" onclick="openModal(2)">
          <img src="lummerlandhbf.png" alt="Bahnhof Lummerland">
          <figcaption>
            <h3>Bahnhof Lummerland</h3>
            <p>Der gem√ºtliche kleine Bahnhof ‚Äì zentraler Ausgangspunkt f√ºr alle Fahrten mit Emma √ºber die wundersch√∂ne Insel.</p>
          </figcaption>
        </figure>
        <figure class="slide" onclick="openModal(3)">
          <img src="lummerland.png" alt="Lummerland √úbersicht">
          <figcaption>
            <h3>Lummerland √úbersicht</h3>
            <p>Die gesamte bezaubernde Insel mit ihren zwei charakteristischen Bergen und allen bekannten Geb√§uden im √úberblick.</p>
          </figcaption>
        </figure>
        <figure class="slide" onclick="openModal(4)">
          <img src="waas.png" alt="Waas Lummerland">
          <figcaption>
            <h3>Frau Waas auf Lummerland</h3>
            <p>Entdecke den Laden von Frau Waas</p>
          </figcaption>
        </figure>
        <figure class="slide" onclick="openModal(5)">
          <img src="√§rmel.png" alt="√Ñrmel Lummerland">
          <figcaption>
            <h3>Haus von Herr √Ñrmel</h3>
            <p>Das gew√∂hnliche Haus von Herr √Ñrmel</p>
          </figcaption>
        </figure>
      </div>
      <div class="gallery-indicators">
        <div class="indicator active" data-slide="0"></div>
        <div class="indicator" data-slide="1"></div>
        <div class="indicator" data-slide="2"></div>
        <div class="indicator" data-slide="3"></div>
        <div class="indicator" data-slide="4"></div>
        <div class="indicator" data-slide="5"></div>
      </div>
    </section>

    <!-- Modal f√ºr vergr√∂√üerte Bilder -->
    <div class="modal" id="imageModal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <img class="modal-image" id="modalImage" src="" alt="">
        <div class="modal-caption" id="modalCaption">
          <h3 id="modalTitle"></h3>
          <p id="modalDescription"></p>
        </div>
      </div>
    </div>
    
    <div class="stats-bar">
      <p class="stats-text">Genie√üe dein Abenteuer in Lummerland! üåü Erlebe die Magie von Jim Knopf und Lukas der Lokomotivf√ºhrer!</p>
    </div>
  </div>

  <script>
    // Google Analytics Download Tracking mit mehr Details
    function trackDownload(filename, filetype) {
      if (typeof gtag !== 'undefined') {
        gtag('event', 'file_download', {
          'event_category': 'Downloads',
          'event_label': filename,
          'file_name': filename,
          'file_extension': filetype,
          'value': 1
        });
        
        // Zus√§tzlich spezifisches Event f√ºr jeden Download-Typ
        gtag('event', 'download_' + filename.toLowerCase(), {
          'event_category': 'Specific_Downloads',
          'event_label': filename + filetype,
          'value': 1
        });
        
        console.log('Download getrackt:', filename, filetype);
      }
    }

    // Google Analytics Social Media Tracking
    function trackSocial(platform) {
      if (typeof gtag !== 'undefined') {
        gtag('event', 'social_click', {
          'event_category': 'Social Media',
          'event_label': platform,
          'value': 1
        });
      }
    }

    // Gallery data
    const galleryData = [
      {
        src: 'schloss.png',
        alt: 'Schloss von K√∂nig Alfons',
        title: 'Schloss von K√∂nig Alfons',
        description: 'Das majest√§tische Schloss zwischen den beiden Bergspitzen ‚Äì die prachtvolle Residenz des K√∂nigs auf der kleinen Insel Lummerland.'
      },
      {
        src: 'emma.png',
        alt: 'Lokomotive Emma',
        title: 'Lokomotive Emma',
        description: 'Lukas\' treue Dampflok Emma ‚Äì bereit f√ºr jedes Abenteuer!'
      },
      {
        src: 'lummerlandhbf.png',
        alt: 'Bahnhof Lummerland',
        title: 'Bahnhof Lummerland',
        description: 'Der gem√ºtliche kleine Bahnhof ‚Äì zentraler Ausgangspunkt f√ºr alle Fahrten mit Emma √ºber die wundersch√∂ne Insel.'
      },
      {
        src: 'lummerland.png',
        alt: 'Lummerland √úbersicht',
        title: 'Lummerland √úbersicht',
        description: 'Die gesamte bezaubernde Insel mit ihren zwei charakteristischen Bergen und allen bekannten Geb√§uden im √úberblick.'
      },
      {
        src: 'waas.png',
        alt: 'Waas Lummerland',
        title: 'Frau Waas auf Lummerland',
        description: 'Entdecke den Laden von Frau Waas'
      },
      {
        src: '√§rmel.png',
        alt: '√Ñrmel Lummerland',
        title: 'Haus von Herr √Ñrmel',
        description: 'Das gew√∂hnliche Haus von Herr √Ñrmel'
      }
    ];

    // Modal functions
    function openModal(imageIndex) {
      const modal = document.getElementById('imageModal');
      const modalImage = document.getElementById('modalImage');
      const modalTitle = document.getElementById('modalTitle');
      const modalDescription = document.getElementById('modalDescription');
      
      const imageData = galleryData[imageIndex];
      
      modalImage.src = imageData.src;
      modalImage.alt = imageData.alt;
      modalTitle.textContent = imageData.title;
      modalDescription.textContent = imageData.description;
      
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      // Track modal open
      if (typeof gtag !== 'undefined') {
        gtag('event', 'image_modal_open', {
          'event_category': 'Gallery',
          'event_label': imageData.title,
          'value': 1
        });
      }
    }

    function closeModal() {
      const modal = document.getElementById('imageModal');
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Close modal on background click
    document.getElementById('imageModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeModal();
      }
    });

    // Close modal on ESC key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
      }
    });

    // Particle Animation
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 50;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 6 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // Gallery functionality
    let slideIndex = 0;
    const slides = document.querySelectorAll(".slide");
    const indicators = document.querySelectorAll(".indicator");
    const prev = document.querySelector(".prev");
    const next = document.querySelector(".next");

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle("active", i === index);
      });
      indicators.forEach((indicator, i) => {
        indicator.classList.toggle("active", i === index);
      });
    }

    function changeSlide(direction) {
      slideIndex = (slideIndex + direction + slides.length) % slides.length;
      showSlide(slideIndex);
    }

    function goToSlide(index) {
      slideIndex = index;
      showSlide(slideIndex);
    }

    // Event listeners with Google Analytics tracking
    prev.addEventListener("click", () => {
      changeSlide(-1);
      // Track gallery navigation
      if (typeof gtag !== 'undefined') {
        gtag('event', 'gallery_navigation', {
          'event_category': 'Gallery',
          'event_label': 'Previous'
        });
      }
    });
    
    next.addEventListener("click", () => {
      changeSlide(1);
      // Track gallery navigation
      if (typeof gtag !== 'undefined') {
        gtag('event', 'gallery_navigation', {
          'event_category': 'Gallery',
          'event_label': 'Next'
        });
      }
    });

    indicators.forEach((indicator, index) => {
      indicator.addEventListener("click", () => goToSlide(index));
    });

    // Auto-slide functionality
    let autoSlideInterval = setInterval(() => changeSlide(1), 5000);

    // Pause auto-slide on hover
    const galleryContainer = document.querySelector('.gallery-container');
    galleryContainer.addEventListener('mouseenter', () => {
      clearInterval(autoSlideInterval);
    });

    galleryContainer.addEventListener('mouseleave', () => {
      autoSlideInterval = setInterval(() => changeSlide(1), 5000);
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') changeSlide(-1);
      if (e.key === 'ArrowRight') changeSlide(1);
    });

    // Touch/swipe support for mobile
    let startX = 0;
    let endX = 0;

    galleryContainer.addEventListener('touchstart', (e) => {
      startX = e.touches[0].clientX;
    });

    galleryContainer.addEventListener('touchend', (e) => {
      endX = e.changedTouches[0].clientX;
      const diff = startX - endX;
      
      if (Math.abs(diff) > 50) { // Minimum swipe distance
        if (diff > 0) {
          changeSlide(1); // Swipe left - next slide
        } else {
          changeSlide(-1); // Swipe right - previous slide
        }
      }
    });

    // Initialize
    showSlide(slideIndex);
    createParticles();
  </script>
</body>
</html>
